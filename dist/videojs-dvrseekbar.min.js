/**
 * videojs-dvrseekbar
 * @version 0.2.6
 * @copyright 2017 ToolBox-tve
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsDvrseekbar=e()}}(function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,o=function(e){return e&&e.__esModule?e:{default:e}}(r),i={startTime:0},a=o.default.getComponent("SeekBar");a.prototype.dvrTotalTime=function(e){var t=e.seekable();return t&&t.length?t.end(0)-t.start(0):0},a.prototype.handleMouseMove=function(e){var t=void 0,n=void 0;if((t=n=this.player_.seekable())&&t.length){var r=this.calculateDistance(e)*this.dvrTotalTime(this.player_);for(n=t.start(0)+r;n>=t.end(0);)n-=.1;this.player_.currentTime(n)}},a.prototype.updateAriaAttributes=function(){var e=this.player_.seekable()||[];if(e.length){var t=e.end(0),n=this.player_.getCache().currentTime,r=this.player_.scrubbing?n:this.player_.currentTime(),i=void 0;i=t-r,i<0&&(i=0);var a=o.default.formatTime(i,t),l=Math.round(100*this.getPercent(),2);this.el_.setAttribute("aria-valuenow",l),this.el_.setAttribute("aria-valuetext",(r?"":"-")+a)}};var l=function(e,t){e.addClass("vjs-dvrseekbar"),e.controlBar.addClass("vjs-dvrseekbar-control-bar"),e.controlBar.progressControl&&e.controlBar.progressControl.addClass("vjs-dvrseekbar-progress-control");var n=document.createElement("div"),r=document.createElement("a");n.className="vjs-live-button vjs-control",r.innerHTML=document.getElementById(e.id_).getElementsByClassName("vjs-live-display")[0].innerHTML,r.id="liveButton_"+e.id_,e.paused()||(r.className="vjs-live-label onair");var i=function(t){e.currentTime(e.seekable().end(0)),e.play()};r.addEventListener?r.addEventListener("click",i,!1):r.attachEvent&&r.attachEvent("onclick",function(){return i.apply(r,[window.event])}),n.appendChild(r);var a=document.getElementById(e.id_).getElementsByClassName("vjs-control-bar")[0],l=document.getElementById(e.id_).getElementsByClassName("vjs-progress-control")[0];a.insertBefore(n,l),o.default.log("dvrSeekbar Plugin ENABLED!",t)},s=function(e,t){var n=e.seekable(),r=document.getElementById("liveButton_"+e.id_);n&&n.length&&(e.duration(e.seekable().end(0)),n.end(0)-e.currentTime()<30?r.className="label onair":r.className="label",e.duration(e.seekable().end(0)))},d=function(e){var t=this;e||(e=i),this.on("timeupdate",function(e){s(t)}),this.on("play",function(e){}),this.on("pause",function(e){document.getElementById("liveButton_"+t.id_).className="vjs-live-label"}),this.ready(function(){l(t,o.default.mergeOptions(i,e))})};(o.default.registerPlugin||o.default.plugin)("dvrseekbar",d),d.VERSION="0.2.6",n.default=d,t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});